      <!DOCTYPE html>
	<html lang="en">
		<head>
      <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
			<title>Visual summaries of population in Pacific islands</title>
      	
         
         
            <meta name ="description" content ="Accessing population data for the Pacific and drawing two visual summaries of its recent and projected growth and absolute size, as used recently in a side event before the Pacific Heads of Planning and Statistics meeting in Wellington.">
            <meta property="og:description" content ="Accessing population data for the Pacific and drawing two visual summaries of its recent and projected growth and absolute size, as used recently in a side event before the Pacific Heads of Planning and Statistics meeting in Wellington.">
         
         <meta property="og:site_name" content="free range statistics" />
         <meta property="og:title" content="Visual summaries of population in Pacific islands" />
         
            <meta property="og:image" content="https:/freerangestats.info/img/0305-population-scatter-highlighted.png" />
         
		 
			<meta property="og:url" content="https://freerangestats.info/blog/2025/11/30/pacific-population.html" />
		 
         <meta property="og:author" content= "https://www.facebook.com/peterstats" />
         <meta property="og:type" content="article" />
      

<link href='https://fonts.googleapis.com/css?family=Sarala' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Prosto+One' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet'>
	  
          <link href="/css/bootstrap.min.css" rel ="stylesheet" type="text/css">
          <link href="/css/bootstrap-theme.min.css" rel ="stylesheet" type="text/css">
            <link href="/css/custom.css" rel ="stylesheet" type="text/css">     
		<link href="/css/syntax.css" rel ="stylesheet" type="text/css">     			
                 
            
   <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

     ga('create', 'UA-65886313-1', 'auto');
     ga('send', 'pageview');

   </script>
   
   <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



   <style>
    ul li { margin-bottom: 9px; }
    ol li { margin-bottom: 9px; }
   </style>
   
   <link rel="alternate" type="application/rss+xml" title="free range statistics by Peter Ellis"
      href="/feed.xml">

	  

      
		</head>
      
  <body role = "document">
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>
        
		<div id="fb-root"></div>
		<script>(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.6";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));</script>
  
  <script>
  (function() {
    var cx = '015640467633673901770:pk3v2c95baw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>

  
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">free range statistics</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/about">about</a></li>
            <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">all posts <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="/blog">ordered by date</a></li>
	        <!--	  <li><a href="/blog/most-popular.html">ordered by popularity</a></li> -->
                  <li><a href="/blog/index_by_tag.html">grouped by subject matter</a></li>
                  <li><a href="/blog/pacific.html">all posts with data about Pacific island countries and territories</a></li>
                  <li><a href="/blog/nz.html">all posts with data about New Zealand</a></li>
				  <li><a href="/blog/voting.html">all posts on voting behaviour</a></li>
                  <li><a href="/blog/surveys.html">all posts on surveys</a></li> 
				  <li><a href = /blog/2026/03/01/pacific-pyramids>most recent post</a></li>
				</ul>
            </li>
              <li><a href="/blog/showcase.html">showcase</a></li>
              <li><a href="/presentations/index.html">presentations</a></li>
			  <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">forecasts<span class="caret"></span></a>
                <ul class="dropdown-menu">
				  <li><a href = "/covid-tracking/index.html">Covid-19 in Australia</a></li>
                  <li><a href = "/elections/nz-2020/index.html">NZ election 2020</a></li>
                  <li><a href = "/elections/oz-2019/index.html">Australia federal election 2019</a></li>
				  <li><a href = "/elections/nz-2017/combined.html">NZ election 2017</a></li>
                  <li><a href="/blog/voting.html">all blog posts on voting behaviour</a></li>
                </ul>				
			  </li>
			  
			  
			  
		    </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
  
  
      
			<div class="container">
			
			<div class="jumbotron">
  <div class="container">
	<center><h1>Visual summaries of population in Pacific islands</h1></center>
  </div>
</div>



	<div class = "post-summary">
	<h2>At a glance:</h2>
	   <p>Accessing population data for the Pacific and drawing two visual summaries of its recent and projected growth and absolute size, as used recently in a side event before the Pacific Heads of Planning and Statistics meeting in Wellington.</p>
	   <p class="meta">30 Nov 2025</p>
	   <hr></hr>
	</div>


<div class="col-md-7">

	<div class="post">
		
	  <p>This will be the first of several posts where I post some code and visualisations of population issues in the Pacific. The analysis and visualisations are pretty simple. Between them, they’ll show how to make (with publicly available data) all the statistical images used in a presentation I recently gave in Wellington on <a href="https://spccfpstore1.blob.core.windows.net/digitallibrary-docs/files/6a/6ad1c5b68b49b1462b9eb172a056c46c.pdf?sv=2015-12-11&amp;sr=b&amp;sig=TNWwFi4l8um7rBJavVHx41%2BhJvT5AI4PQ7OvWAoP1e0%3D&amp;se=2026-05-27T18%3A44%3A49Z&amp;sp=r&amp;rscc=public%2C%20max-age%3D864000%2C%20max-stale%3D86400&amp;rsct=application%2Fpdf&amp;rscd=inline%3B%20filename%3D%22HOPS7_Opening_Day_Seminar_Pacific_priorities_and_change___Population_mobility_priorities_and_trends.pdf%22">migration and mobility in the Pacific</a>.</p>

<p>This was for a side event before the Pacific “Heads of Planning and Statistics” meeting, which takes place every two years and is the biggest event my team at the Pacific Community (SPC) organises. <a href="https://sdd.spc.int/events/2025/11/7th-regional-conference-heads-planning-and-statistics-hops-7">All the papers and presentations considered the meeting are available online</a>, which is definitely transparency in action.</p>

<p>It was fun at this side event to have the chance for once to talk about the substantive issues the data shows, rather than (as is the usual focus of my meetings) how to improve the data, improve its use, and generally strategise and prioritise to improve statistics. These things are important and (arguably) fun too, but it’s nice to put them aside and talk about some actual development issues now and then. My talk was followed by a great panel discussion with speakers from academia, a UN organisation, Stats NZ and a Pacific island national planner.</p>

<p>Today’s post is pretty straightforward and is just about producing two statistical charts (one of them with both a “bare” and a “highlighted” version), setting the scene for population in the Pacific.</p>

<h3 id="downloading-data">Downloading data</h3>

<p>First, I download and tidy up the data. Everything I need for these charts is already in the Pacific Data Hub, making this pretty straightforward. The thing that takes a bit of fiddling is converting the country codes to user-friendly country names; and classifying each country into one of Melanesia, Polynesia or Micronesia.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># This script produces a couple of general use plots on population growth in the Pacific</span><span class="w">
</span><span class="c1"># for use in presentations on data issues</span><span class="w">

</span><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">rsdmx</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">scales</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">janitor</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">ISOcodes</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">glue</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">spcstyle</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">extrafont</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">Cairo</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">ggrepel</span><span class="p">)</span><span class="w">

</span><span class="c1"># general use caption and font:</span><span class="w">
</span><span class="n">the_caption</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"Source: UN World Population Prospects, via the Pacific Data Hub"</span><span class="w">
</span><span class="n">the_font</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"Roboto"</span><span class="w"> 

</span><span class="c1"># Download all the mid year population estimates from PDH.stat</span><span class="w">
</span><span class="n">d</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">readSDMX</span><span class="p">(</span><span class="s2">"https://stats-sdmx-disseminate.pacificdata.org/rest/data/SPC,DF_POP_PROJ,3.0/A.AS+CK+FJ+PF+GU+KI+MH+FM+NR+NC+NU+MP+PW+PG+PN+WS+SB+TK+TO+TV+VU+WF+_T+MEL+MIC+POL+_TXPNG+MELXPNG.MIDYEARPOPEST._T._T?startPeriod=1950&amp;endPeriod=2050&amp;dimensionAtObservation=AllDimensions"</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">as_tibble</span><span class="p">()</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">clean_names</span><span class="p">()</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">time_period</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">time_period</span><span class="p">))</span><span class="w">

</span><span class="c1"># Some subregional classifications.</span><span class="w">
</span><span class="n">mel</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Melanesia"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Papua New Guinea"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Fiji"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Solomon Islands"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Vanuatu"</span><span class="p">,</span><span class="w"> </span><span class="s2">"New Caledonia"</span><span class="p">)</span><span class="w">
</span><span class="n">pol</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Polynesia"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Tonga"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Samoa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Cook Islands"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Tuvalu"</span><span class="p">,</span><span class="w"> </span><span class="s2">"American Samoa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Pitcairn"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Wallis and Futuna"</span><span class="p">,</span><span class="w"> </span><span class="s2">"French Polynesia"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Niue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Tokelau"</span><span class="p">)</span><span class="w">

</span><span class="c1"># lookup table with country codes, names, and which subregion they are in</span><span class="w">
</span><span class="n">pict_names</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">tribble</span><span class="p">(</span><span class="o">~</span><span class="n">Alpha_2</span><span class="p">,</span><span class="w"> </span><span class="o">~</span><span class="n">Name</span><span class="p">,</span><span class="w">
                      </span><span class="s2">"_T"</span><span class="p">,</span><span class="w"> </span><span class="s2">"All PICTs"</span><span class="p">,</span><span class="w">
                      </span><span class="s2">"MEL"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Melanesia"</span><span class="p">,</span><span class="w">
                      </span><span class="s2">"_TXPNG"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Total excluding PNG"</span><span class="p">,</span><span class="w">
                      </span><span class="s2">"POL"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Polynesia"</span><span class="p">,</span><span class="w">
                      </span><span class="s2">"MIC"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Micronesia"</span><span class="p">)</span><span class="w">  </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">bind_rows</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">ISO_3166_1</span><span class="p">,</span><span class="w"> </span><span class="n">Alpha_2</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p">))</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">rename</span><span class="p">(</span><span class="n">geo_pict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Alpha_2</span><span class="p">,</span><span class="w">
         </span><span class="n">pict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Name</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">case_when</span><span class="p">(</span><span class="w">
    </span><span class="n">pict</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="n">mel</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="s2">"Melanesia"</span><span class="p">,</span><span class="w">
    </span><span class="n">pict</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="n">pol</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="s2">"Polynesia"</span><span class="p">,</span><span class="w">
    </span><span class="n">grepl</span><span class="p">(</span><span class="s2">"^_T"</span><span class="p">,</span><span class="w"> </span><span class="n">geo_pict</span><span class="p">)</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="s2">"Total"</span><span class="p">,</span><span class="w">
    </span><span class="kc">TRUE</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="s2">"Micronesia"</span><span class="w">
  </span><span class="p">))</span><span class="w">

</span><span class="c1"># Dataset that combines the original PDH.stat data with the country names and regional classifications</span><span class="w">
</span><span class="n">d2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">era</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">time_period</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">2025</span><span class="p">,</span><span class="w"> </span><span class="s2">"Past"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Future"</span><span class="p">))</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">inner_join</span><span class="p">(</span><span class="n">pict_names</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"geo_pict"</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">pict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gsub</span><span class="p">(</span><span class="s2">"Federated States of"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Fed. States"</span><span class="p">,</span><span class="w"> </span><span class="n">pict</span><span class="p">))</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="c1"># Order country names from smallest to largest population in 2050:</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">pict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fct_reorder</span><span class="p">(</span><span class="n">pict</span><span class="p">,</span><span class="w"> </span><span class="n">obs_value</span><span class="p">,</span><span class="w"> </span><span class="n">.fun</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">last</span><span class="p">))</span><span class="w"> </span></code></pre></figure>

<h3 id="line-plot">Line plot</h3>

<p>This puts us in a position to just draw our first plot:</p>

<object type="image/svg+xml" data="/img/0305-population-line.svg" width="100%"><img src="/img/0305-population-line.png" width="100%" /></object>

<p>It’s very intuitive, and I think a necessary introduction to all the countries and territories we’re talking about. When we first made a version of this plot I thought it would never be neat enough to use in a presentation, but in fact it works ok on a big conference screen, so long as we exclude (as I have) the various regional and sub-regional totals.</p>

<p>All the hard work to produce this plot had been done earlier in the data management, so producing the plot is just a single chunk of code:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">#----------------------time series line plot-------------</span><span class="w">

</span><span class="c1"># This version just has 21 individual PICTs, no subregional totals. 21 fits</span><span class="w">
</span><span class="c1"># ok on the screen in 3 rows of 7:</span><span class="w">
</span><span class="n">d2</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="c1"># remove subregional and regional totals, so only actual countries</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">pict</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Micronesia"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Polynesia"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Melanesia"</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> 
             </span><span class="n">grepl</span><span class="p">(</span><span class="s2">"total"</span><span class="p">,</span><span class="w"> </span><span class="n">pict</span><span class="p">,</span><span class="w"> </span><span class="n">ignore.case</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> 
             </span><span class="n">pict</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"All PICTs"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Pitcairn"</span><span class="p">)))</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">time_period</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obs_value</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">era</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">pict</span><span class="p">,</span><span class="w"> </span><span class="n">scales</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"free_y"</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_line</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">legend.position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
        </span><span class="n">panel.grid.minor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_blank</span><span class="p">(),</span><span class="w">
        </span><span class="n">strip.text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">face</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'plain'</span><span class="p">),</span><span class="w">
        </span><span class="n">plot.caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey50"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">comma</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_colour_manual</span><span class="p">(</span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spc_cols</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># force all y axes to go to zero (but because free_y in the facet_wrap call, </span><span class="w">
  </span><span class="c1"># they will be on different scales for readability):</span><span class="w">
  </span><span class="n">expand_limits</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
       </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Population in the Pacific, 1950 to 2050"</span><span class="p">,</span><span class="w">
       </span><span class="n">subtitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Countries listed in sequence of projected population in 2050"</span><span class="p">,</span><span class="w">
       </span><span class="n">caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">the_caption</span><span class="p">)</span><span class="w"> </span></code></pre></figure>

<h3 id="scatter-plot">Scatter plot</h3>

<p>The line plot’s a nice introduction to population and most importantly, it’s easily understood. But unless people look carefully at the vertical axis labels it gives no sense of the absolute size of the different countries, and only a very rough visual sense of the differing growth rates.</p>

<p>In looking for a single image that would summarise two things I came up with this chart:</p>

<object type="image/svg+xml" data="/img/0305-population-scatter.svg" width="100%"><img src="/img/0305-population-scatter.png" width="100%" /></object>

<p>This is something we’d prepared earlier well before this talk and not yet needed to use, but it was for exactly this sort of use case—a single slide summary of Pacific island countries and territories’ absolute size and growth rates.</p>

<p>It takes a little bit of explanation for, and concentration from, an audience—in particular, explaining why the negative growth area is shaded and what that means. The logarithmic scale for population size means people probably won’t realise just how overwhelmingly big Papua New Guinea is compared to the rest of the Pacific; to show that properly, we really need a different chart. But overall, this is straightforward enough for people to grasp.</p>

<p>What I like about this plot is that it makes clear the two broad categories of Pacific island countries and territories in population terms: relatively large (meaning &gt;100,000 people!) and growing, which is all of Melanesia and a few others; and small and shrinking, comprising most of Polynesia and parts of Micronesia. Tonga, population estimated around 104,000, is the borderline case—all the countries larger than Tonga are growing in population terms; and nearly all those smaller than it are shrinking.</p>

<p>There’s two territories I dropped from this plot because the UN 2024 population projections, which is the data used, are materially out of date and I didn’t want to get side-tracked into explaining why in the talk. We’ll be able to include them in future versions of the pot hopefully soon.</p>

<p>Again, it was pretty simple to create the plot with the data we’ve already got. Here’s the R code to do that:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">#----------------scatter plot comparing growth to totals---------------</span><span class="w">
</span><span class="c1"># Summary data as one row per country for use in scatter plot</span><span class="w">
</span><span class="n">d3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">d2</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">pict</span><span class="p">,</span><span class="w"> </span><span class="n">region</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">pop2025</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obs_value</span><span class="p">[</span><span class="n">time_period</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">2025</span><span class="p">],</span><span class="w">
            </span><span class="n">pop2020</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obs_value</span><span class="p">[</span><span class="n">time_period</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">2020</span><span class="p">])</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">cagr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">pop2025</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">pop2020</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">5</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">point_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">if_else</span><span class="p">(</span><span class="n">pict</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Micronesia"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Polynesia"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Melanesia"</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">region</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Total"</span><span class="p">,</span><span class="w"> </span><span class="s2">"total_like"</span><span class="p">,</span><span class="w"> </span><span class="s2">"country"</span><span class="p">),</span><span class="w">
         </span><span class="c1"># font type has to use identity scale, no scale to map it        </span><span class="w">
         </span><span class="n">font_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">point_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"total_like"</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w">
         </span><span class="c1"># couldnt' get Melanesia in the right spot with ggrepel so have to make a specific adjustment for it:</span><span class="w">
         </span><span class="n">adjusted_x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">pict</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Melanesia"</span><span class="p">,</span><span class="w"> </span><span class="n">pop2025</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1.35</span><span class="p">,</span><span class="w"> </span><span class="n">pop2025</span><span class="p">))</span><span class="w">

</span><span class="c1"># For a presentation used at HOPS7, I want</span><span class="w">
</span><span class="c1"># 1) scatter plot but without the region and subregions, to avoid clutter</span><span class="w">
</span><span class="c1"># 2) as 1 but with the shared sovereign countries highlighted eg with a circle around them.</span><span class="w">
</span><span class="c1">#</span><span class="w">
</span><span class="c1"># I also excldued two countries that had conspicuously out-of-date data that I didn't</span><span class="w">
</span><span class="c1"># want visually prominent.</span><span class="w">

</span><span class="n">d4</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">d3</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">filter</span><span class="p">(</span><span class="n">point_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"country"</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="c1"># two countries/territories have materially wrong estimates that</span><span class="w">
  </span><span class="c1"># are distracting, better to just drop them from the chart</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="o">!</span><span class="n">pict</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Tokelau"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Micronesia, Fed. States"</span><span class="p">))</span><span class="w">

</span><span class="n">p2b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">d4</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pop2025</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cagr</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">region</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># Draw a pale (transparent, alpha) background rectangle for the negative growth countries:</span><span class="w">
  </span><span class="n">annotate</span><span class="p">(</span><span class="s2">"rect"</span><span class="p">,</span><span class="w"> </span><span class="n">xmin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">xmax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">Inf</span><span class="p">,</span><span class="w"> </span><span class="n">ymin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">ymax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="kc">Inf</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"red"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># Largish points for each country:</span><span class="w">
  </span><span class="n">geom_point</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2.5</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># labels for each country:</span><span class="w">
  </span><span class="c1"># geom_label_repel(aes(label = pict), seed = 7, family = the_font, size = 2.7, label.size = 0, fill = "transparent") +</span><span class="w">
  </span><span class="n">geom_text_repel</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adjusted_x</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pict</span><span class="p">,</span><span class="w"> </span><span class="n">fontface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">font_type</span><span class="p">),</span><span class="w"> </span><span class="n">seed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">the_font</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2.7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># For the smaller countries, use actual populations as the points for markers on the axis.</span><span class="w">
  </span><span class="c1"># For larger than 10,000, there are too many countries and it would be cluttered, so use 3, 10, 30, 100, etc.</span><span class="w">
  </span><span class="n">scale_x_log10</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">comma</span><span class="p">,</span><span class="w"> 
                </span><span class="n">breaks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">signif</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">sort</span><span class="p">(</span><span class="n">unique</span><span class="p">(</span><span class="n">d3</span><span class="o">$</span><span class="n">pop2025</span><span class="p">))[</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="m">9</span><span class="p">,</span><span class="w"> </span><span class="m">12</span><span class="p">,</span><span class="w"> </span><span class="m">23</span><span class="o">:</span><span class="m">25</span><span class="p">)],</span><span class="w"> </span><span class="m">3e5</span><span class="p">),</span><span class="w"> </span><span class="m">3</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">percent</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># Use SPC colours for the four subregion types:</span><span class="w">
  </span><span class="n">scale_colour_manual</span><span class="p">(</span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Micronesia"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spc_cols</span><span class="p">(</span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="s2">"Polynesia"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spc_cols</span><span class="p">(</span><span class="m">3</span><span class="p">),</span><span class="w"> </span><span class="s2">"Melanesia"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spc_cols</span><span class="p">(</span><span class="m">4</span><span class="p">),</span><span class="w"> </span><span class="s2">"Total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey50"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># Readable x axis tick marks (at an angle); and not too many vertical gridlines:</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">axis.text.x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">45</span><span class="p">,</span><span class="w"> </span><span class="n">hjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w">
        </span><span class="n">panel.grid.minor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_blank</span><span class="p">(),</span><span class="w">
        </span><span class="n">plot.caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey50"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># labels for the axes, plot title, legend:</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Population in 2025 (logarithmic scale)"</span><span class="p">,</span><span class="w">
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Compound annual population growth rate 2020 to 2025"</span><span class="p">,</span><span class="w">
       </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
       </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Current population and recent growth in the Pacific"</span><span class="p">,</span><span class="w">
       </span><span class="n">subtitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Populations of the Pacific Island country and territory members of the Pacific Community (SPC). 
"</span><span class="p">,</span><span class="w">
       </span><span class="n">caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">the_caption</span><span class="p">)</span></code></pre></figure>

<p>There’s a few tricks used here, most important of which is probably the way I’ve used the exact population sizes as horizontal axis labels. This is something that works well with a small number of points, and which I learned from a Tufte book.</p>

<h3 id="scatter-plot-with-highlights">Scatter plot with highlights</h3>

<p>Finally for today, I wanted a version of the same plot that highlighted the countries that have easy mobility to a larger a richer country—that is, France (three territories), the USA (three territories and three self-governing countries), New Zealand (three members of the “Realm of New Zealand”) or the UK (Pitcairn). One of the themes of my talk was the way that in countries where people <em>can</em> move, a certain number of them generally <em>do</em>. This is a very politically and culturally sensitive point, and it’s not one I’m going to try to explore the reasons for here, but we can certainly note it as a dominant fact of importance for understanding the demographic dynamics of the Pacific. It’s one of two or three critical big picture points that explain many of the differences between Kiribati (very densely populated on Tarawa and relatively poor) and Marshall Islands (less obvious excessive population density, higher standard of living), for example.</p>

<p>My plot with the highlights—which are just oversized point geoms using shape number 1, a hollow circle—shows this nicely I believe:</p>

<object type="image/svg+xml" data="/img/0305-population-scatter-highlighted.svg" width="100%"><img src="/img/0305-population-scatter-highlighted.png" width="100%" /></object>

<p>And here is the code for that plot:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">easy_mobility</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Pitcairn"</span><span class="p">,</span><span class="w"> 
                   </span><span class="s2">"Niue"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Tokelau"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Cook Islands"</span><span class="p">,</span><span class="w"> 
                   </span><span class="s2">"Wallis and Futuna"</span><span class="p">,</span><span class="w"> </span><span class="s2">"New Caledonia"</span><span class="p">,</span><span class="w"> </span><span class="s2">"French Polynesia"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"Guam"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Northern Mariana Islands"</span><span class="p">,</span><span class="w"> </span><span class="s2">"American Samoa"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"Marshall Islands"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Palau"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Micronesia, Fed. States"</span><span class="p">)</span><span class="w">

</span><span class="c1"># check all are in data apart from the two we deliberately dropped</span><span class="w">
</span><span class="n">stopifnot</span><span class="p">(</span><span class="nf">sum</span><span class="p">(</span><span class="o">!</span><span class="n">easy_mobility</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="n">d4</span><span class="o">$</span><span class="n">pict</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">

</span><span class="n">d4</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> 
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pop2025</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cagr</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">region</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># Draw a pale (transparent, alpha) background rectangle for the negative growth countries:</span><span class="w">
  </span><span class="n">annotate</span><span class="p">(</span><span class="s2">"rect"</span><span class="p">,</span><span class="w"> </span><span class="n">xmin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="n">xmax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">Inf</span><span class="p">,</span><span class="w"> </span><span class="n">ymin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">ymax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="kc">Inf</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"red"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># Largish points for each country:</span><span class="w">
  </span><span class="n">geom_point</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2.5</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># labels for each country:</span><span class="w">
  </span><span class="c1"># geom_label_repel(aes(label = pict), seed = 7, family = the_font, size = 2.7, label.size = 0, fill = "transparent") +</span><span class="w">
  </span><span class="n">geom_text_repel</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adjusted_x</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pict</span><span class="p">,</span><span class="w"> </span><span class="n">fontface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">font_type</span><span class="p">),</span><span class="w"> </span><span class="n">seed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">the_font</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2.7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># For the smaller countries, use actual populations as the points for markers on the axis.</span><span class="w">
  </span><span class="c1"># For larger than 10,000, there are too many countries and it would be cluttered, so use 3, 10, 30, 100, etc.</span><span class="w">
  </span><span class="n">geom_point</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">d4</span><span class="p">,</span><span class="w"> </span><span class="n">pict</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="n">easy_mobility</span><span class="p">),</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"black"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_x_log10</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">comma</span><span class="p">,</span><span class="w"> 
                </span><span class="n">breaks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">signif</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="n">sort</span><span class="p">(</span><span class="n">unique</span><span class="p">(</span><span class="n">d3</span><span class="o">$</span><span class="n">pop2025</span><span class="p">))[</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="m">9</span><span class="p">,</span><span class="w"> </span><span class="m">12</span><span class="p">,</span><span class="w"> </span><span class="m">23</span><span class="o">:</span><span class="m">25</span><span class="p">)],</span><span class="w"> </span><span class="m">3e5</span><span class="p">),</span><span class="w"> </span><span class="m">3</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">percent</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># Use SPC colours for the four subregion types:</span><span class="w">
  </span><span class="n">scale_colour_manual</span><span class="p">(</span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Micronesia"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spc_cols</span><span class="p">(</span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="s2">"Polynesia"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spc_cols</span><span class="p">(</span><span class="m">3</span><span class="p">),</span><span class="w"> </span><span class="s2">"Melanesia"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spc_cols</span><span class="p">(</span><span class="m">4</span><span class="p">),</span><span class="w"> </span><span class="s2">"Total"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey50"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">(</span><span class="n">base_family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">the_font</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># Readable x axis tick marks (at an angle); and not too many vertical gridlines:</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">axis.text.x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">45</span><span class="p">,</span><span class="w"> </span><span class="n">hjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w">
        </span><span class="n">panel.grid.minor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_blank</span><span class="p">(),</span><span class="w">
        </span><span class="n">plot.caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey50"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="c1"># labels for the axes, plot tile, legend:</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Population in 2025 (logarithmic scale)"</span><span class="p">,</span><span class="w">
       </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Compound annual population growth rate 2020 to 2025"</span><span class="p">,</span><span class="w">
       </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
       </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Current population and recent growth in the Pacific"</span><span class="p">,</span><span class="w">
       </span><span class="n">subtitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Populations of the Pacific Island country and territory members of the Pacific Community (SPC). 
Countries and territories with easy migration access to a larger country are highlighted."</span><span class="p">,</span><span class="w">
       </span><span class="n">caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">the_caption</span><span class="p">)</span></code></pre></figure>

<p>That’s all for today. In subsequent blogs I’ll show how I drew the other charts in the original presentation, with net migration, diaspora sizes, Pacific Islander populations in various world cities, and remittances.</p>


		
	</div>
</div>

<div class="col-md-1"></div>
<div class="col-md-4">
	<div class="side-banner">
	


	<div>
	   
	    
			
			<p>&larr; Previous post</p>
			<p><a rel="prev" href="/blog/2025/11/09/null-p-values">Distribution of p-values under the null hypothesis for discrete data</a></p>
		
		
		
		
		 
			
			<p>Next post &rarr;</p>
			<p><a rel="next" href="/blog/2025/12/04/pacific-net-migration">Net migration in Pacific island countries</a></p>
			
			
		
		
	</div>
	
	 

   <div class = "side-footer">
			
			<hr></hr>
			<p><gcse:search></gcse:search></p>
			<hr></hr>

			<p>My day job is Director of the <a href='https://sdd.spc.int/'>Statistics for Development Division</a> at the Pacific Community, the principal scientific and technical organisation in the Pacific region, proudly supporting development since 1947. We are an international development organisation owned and governed by our 27 country and territory members. This blog is not part of my role there and contains my personal views only.</p>
		
		    <hr></hr>
			
        	<p>Follow <a href = "/feed.xml">this blog with RSS</a>.</p>
			<p>Find me on <a rel="me" href="https://bsky.app/profile/freerangestats.info">Bluesky</a> or <a rel="me" href="https://mastodon.social/@peter_ellis">Mastodon</a>.</p>
			<hr></hr>
			


       <div class="fb-like" data-href="https://www.facebook.com/peterstats/" data-layout="standard" data-action="like" data-show-faces="false" data-share="false"></div>
			
			<hr></hr>
			<p>I'm pleased to be aggregated at <a href="https://www.r-bloggers.com/">R-bloggers</a>, the one-stop shop for blog posts featuring R.</p>
			
			<p>I've never been an academic but have written a few small things and hence have a <a href='https://scholar.google.com/citations?view_op=list_works&hl=en&user=MEtLNDMAAAAJ'>Google Scholar profile</a></p>
			
			<p>I read a lot of books. In the unlikely event you want to see what I think about them or what I'm reading at the moment, <a href='https://www.goodreads.com/user/show/55517482-peter-ellis'>follow me on Goodreads</a>.</p>
			<hr></hr>

			
			<p>			
            <span xmlns:dct="https://purl.org/dc/terms/" property="dct:title"><i>free range statistics</i></span> by <a href = "/about/index.html">Peter Ellis</a> is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
			</p>

			<hr></hr>
			
			<h4>Bluesky feed:</h3>
         <script src="https://cdn.jsdelivr.net/npm/bsky-embed/dist/bsky-embed.es.js" async></script>
<bsky-embed  
  username="freerangestats.info"  
  limit="5"  
>  
</bsky-embed>

    </div>



  
   




		  
		  



	   
	<div id="disqus_thread"></div>

		<script type="text/javascript">
			/* * * CONFIGURATION VARIABLES * * */
			var disqus_shortname = 'statsinthewild';
			
			/* * * DON'T EDIT BELOW THIS LINE * * */
			(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		</script>

		<script type="text/javascript">
			/* * * CONFIGURATION VARIABLES * * */
			var disqus_shortname = 'statsinthewild';
			
			/* * * DON'T EDIT BELOW THIS LINE * * */
			(function () {
				var s = document.createElement('script'); s.async = true;
				s.type = 'text/javascript';
				s.src = '//' + disqus_shortname + '.disqus.com/count.js';
				(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
			}());
		</script>

	<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
	</div>	
</div>    
   
   

			
			</div><!-- /.container -->
         
   <!-- Default Statcounter code for Free Range Statistics https://freerangestats.info -->
<script type="text/javascript">
var sc_project=11673245; 
var sc_invisible=1; 
var sc_security="5b7111a4"; 
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js" async></script>
<noscript><div class="statcounter"><a title="Web Analytics"
href="https://statcounter.com/" target="_blank"><img class="statcounter"
src="//c.statcounter.com/11673245/0/5b7111a4/1/" alt="Web
Analytics"></a></div></noscript>
<!-- End of Statcounter Code -->

</body>   
</html>