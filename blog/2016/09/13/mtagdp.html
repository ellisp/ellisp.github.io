      <!DOCTYPE html>
	<html lang="en">
		<head>
      <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
			<title>Analysing the Modelled Territorial Authority GDP estimates for New Zealand</title>
      	
         
         
            <meta name ="description" content ="My presentation and paper on the development and use of "Modelled Territorial Authority Gross Domestic Product" for New Zealand, as presented to the New Zealand Association of Economists conference in June 2016">
            <meta property="og:description" content ="My presentation and paper on the development and use of "Modelled Territorial Authority Gross Domestic Product" for New Zealand, as presented to the New Zealand Association of Economists conference in June 2016">
         
         <meta property="og:site_name" content="free range statistics" />
         <meta property="og:title" content="Analysing the Modelled Territorial Authority GDP estimates for New Zealand" />
         
            <meta property="og:image" content="http://ellisp.github.io/img/0054-queenstown-snapshot.png" />
         
		 
			<meta property="og:url" content="http://freerangestats.info/blog/2016/09/13/mtagdp.html" />
		 
         <meta property="og:author" content= "https://www.facebook.com/peterstats" />
         <meta property="og:type" content="article" />
      

<link href='https://fonts.googleapis.com/css?family=Sarala' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Prosto+One' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet'>
	  
          <link href="/css/bootstrap.min.css" rel ="stylesheet" type="text/css">
          <link href="/css/bootstrap-theme.min.css" rel ="stylesheet" type="text/css">
            <link href="/css/custom.css" rel ="stylesheet" type="text/css">     
		<link href="/css/syntax.css" rel ="stylesheet" type="text/css">     			
                 
            
   <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

     ga('create', 'UA-65886313-1', 'auto');
     ga('send', 'pageview');

   </script>
   
   <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

   <style>
    ul li { margin-bottom: 9px; }
    ol li { margin-bottom: 9px; }
   </style>
   
   <link rel="alternate" type="application/rss+xml" title="free range statistics by Peter Ellis"
      href="/feed.xml">

	  

      
		</head>
      
  <body role = "document">
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>
        
		<div id="fb-root"></div>
		<script>(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.6";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));</script>
  
  <script>
  (function() {
    var cx = '015640467633673901770:pk3v2c95baw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>

  
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">free range statistics</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/about">about</a></li>
            <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">all posts <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="/blog">ordered by date</a></li>
				  <li><a href="/blog/most-popular.html">ordered by popularity</a></li>
                  <li><a href="/blog/index_by_tag.html">grouped by subject matter</a></li>
                  <li><a href="/blog/nz.html">all posts with data about new zealand</a></li>
				  <li><a href="/blog/voting.html">all posts on voting behaviour</a></li>
				  <li><a href = /blog/2019/03/30/afl-elo-adjusted>most recent post</a></li>
				</ul>
            </li>
              <li><a href="/blog/showcase.html">showcase</a></li>
              <li><a href="/presentations/index.html">presentations</a></li>
			  <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">nz election forecasts<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href = "/elections/combined.html">combined model (recommended)</a></li>
                  <li><a href="https://ellisp.shinyapps.io/nz-election-2017/">explore coalitions and assumptions</a></li>
				  <li><a href="/elections/elections.html">model A "generalized additive model"</a></li>
				  <li><a href = "/elections/state-space.html">model B "state space"</a></li>
				  <li><a href="/elections/changelog.html">log of changes to forecasts</a></li>
				  <li><a href="https://github.com/ellisp/nz-election-forecast">source code on GitHub</a></li>
				  <li><a href="/blog/voting.html">all posts on voting behaviour</a></li>
                </ul>				
			  </li>
			  
			  
			  
		    </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
  
  
      
			<div class="container">
			
			<div class="jumbotron">
  <div class="container">
	<center><h1>Analysing the Modelled Territorial Authority GDP estimates for New Zealand</h1></center>
  </div>
</div>



	<div class = "post-summary">
	<h2>At a glance:</h2>
	   <p>My presentation and paper on the development and use of "Modelled Territorial Authority Gross Domestic Product" for New Zealand, as presented to the New Zealand Association of Economists conference in June 2016</p>
	   <p class="meta">13 Sep 2016</p>
	   <hr></hr>
	</div>


<div class="col-md-7">

	<div class="post">
		
	  <p>At the conference of the New Zealand Association of Economists (NZAE) in late June 2016 I gave a paper on Modelled Territorial Authority Gross Domestic Product, a new dataset my team developed last year in my day job.  See the <a href="http://www.mbie.govt.nz/info-services/sectors-industries/regions-cities/research/modelled-territorial-authority-gross-domestic-product">official website of the MTAGDP project</a> for definitive information.  I <a href="/blog/2015/10/30/MTAGDP.html">briefly blogged</a> about the data when it was first released in October 2015; since then it has been updated and enhanced.</p>

<p>The papers from the conference were originally planned to be <a href="http://www.nzaeconference.co.nz/presenters-info.cfm">published on the NZAE website</a> but this doesn’t seem to have happened so I’ve put mine up in the <a href="/presentations/index.html">“presentations” part of my blog</a> instead.</p>

<ul>
  <li><a href="/presentations/ellis-mtagdp.pdf">Full paper (PDF)</a> - the only manifestation that’s really aimed at being reader-friendly</li>
  <li><a href="/presentations/ellisp-mtagdp-presentation.html">Presentation</a> - visual props, doesn’t tell the story by itself but looks nice</li>
  <li><a href="https://github.com/ellisp/mtagdp-nzae">Source code</a> - source code for my contribution at the conference, including the analysis in R, paper in LaTeX and the Rmarkdown / reveal.js code of the presentation.  Not the source code for creating Modelled Territorial Authority GDP estimates, which is published elsewhere (links in the paper)</li>
</ul>

<h2 id="some-visual-highlights">Some visual highlights</h2>
<p>The paper talks about how we developed these estimates and has some example analysis demonstrating possible use case.  For example, I fit a generalized additive model to economic growth from 2005 to 2015 to see if it could be explained in part by the absolute level of GDP or the importance of agriculture at the beginning of the period, while correcting for spatial auto-correlation (spoiler - found no evidence of a link).</p>

<p>Without wanting to paraphrase the whole paper again in this blog, here are some visual highlights.  Explanations are in the <a href="/presentations/ellis-mtagdp.pdf">full paper</a>.</p>

<hr />

<h3 id="which-districts-and-cities-have-similar-industry-profiles">Which districts and cities have similar industry profiles?</h3>
<p><img src="/img/0054-ta-associations.svg" alt="a" /></p>

<hr />

<h3 id="which-industries-tend-to-be-spatially-related">Which industries tend to be spatially related?</h3>
<p><img src="/img/0054-industry-associations.svg" alt="b" /></p>

<hr />

<h3 id="how-do-agriculture-and-gdp-in-2005-relate-to-subsequent-growth-not-much">How do agriculture and GDP in 2005 relate to subsequent growth? (not much)</h3>
<p><img src="/img/0054-scatter-2005-v-growth.svg" alt="c" /></p>

<hr />

<h3 id="how-does-construction-in-taranaki-get-allocated-to-sub-industries-and-districts">How does construction in Taranaki get allocated to sub-industries and districts?</h3>
<p><img src="/img/0054-sankey_taranakiConstruction.svg" alt="d" /></p>

<hr />

<h3 id="how-does-the-data-look-in-its-web-app-built-with-shinyhttpwwwmbiegovtnzinfo-servicessectors-industriesregions-citiesresearchmodelled-territorial-authority-gross-domestic-productinteractive-web-tool-note-the-machine-generated-interpretation--commentary-on-the-right-side-of-the-screen">How does the data look in its <a href="http://www.mbie.govt.nz/info-services/sectors-industries/regions-cities/research/modelled-territorial-authority-gross-domestic-product/interactive-web-tool">web app built with Shiny</a>? (Note the machine-generated interpretation / commentary on the right side of the screen)</h3>
<p><a href="http://www.mbie.govt.nz/info-services/sectors-industries/regions-cities/research/modelled-territorial-authority-gross-domestic-product/interactive-web-tool"><img src="/img/0054-queenstown-snapshot.png" alt="e" /></a></p>

<hr />

<h3 id="which-districts-and-cities-had-the-highest-growth-rates-2005-to-2015">Which districts and cities had the highest growth rates 2005 to 2015?</h3>
<p><img src="/img/0054-dotcagr10.svg" alt="e" /></p>

<hr />

<h3 id="whats-the-gdp-growth-map-of-new-zealand-look-like">What’s the GDP growth map of New Zealand look like?</h3>
<p><img src="/img/0054-gdp-pp-map.svg" alt="e" /></p>

<hr />

<h3 id="what-about-if-we-smooth-the-growth-patterns-and-draw-it-like-a-funky-weather-map-instead">What about if we smooth the growth patterns and draw it like a funky weather map instead?</h3>
<p><img src="/img/0054-growth0513.svg" alt="e" /></p>

<hr />

<h2 id="accessing-the-data">Accessing the data</h2>

<p>The full source code for the conference paper and its analysis is <a href="https://github.com/ellisp/mtagdp-nzae">available on GitHub</a>, but here’s a much shorter snippet of R code to download the data in two tables from the definitive location on the <a href="http://www.mbie.govt.nz/info-services/sectors-industries/regions-cities/research/modelled-territorial-authority-gross-domestic-product/data-download">MBIE website</a>:</p>

<ul>
  <li>TAGDP_public contains industry breakdowns to 2013 (about 11MB)</li>
  <li>mtagdp_totals is aggregate GDP (no industry breakdown) to 2015 (&lt;1MB)</li>
</ul>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="w">    </span><span class="n">TAGDP_public</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"http://www.mbie.govt.nz/info-services/sectors-industries/regions-cities/research/modelled-territorial-authority-gross-domestic-product/resolveuid/98debb063cb14ecbab0f018b7681e7f4"</span><span class="p">,</span><span class="w">
                   </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
    </span><span class="n">mtagdp_totals</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"http://www.mbie.govt.nz/info-services/sectors-industries/regions-cities/research/modelled-territorial-authority-gross-domestic-product/resolveuid/b811fea8196c4d269c1d5ca973933c7c"</span><span class="p">,</span><span class="w">
                              </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span></code></pre></figure>

<p>Comments, questions and suggestions welcomed.  If they’re about my example analysis or basic “how do I use the data” I’ll answer them here; if they get controversial or about the development method I’ll swap hats and refer them back to work.</p>

<h2 id="caveat-and-disclaimer-from-the-mbie-websitehttpwwwmbiegovtnzinfo-servicessectors-industriesregions-citiesresearchmodelled-territorial-authority-gross-domestic-product">Caveat and disclaimer from the <a href="http://www.mbie.govt.nz/info-services/sectors-industries/regions-cities/research/modelled-territorial-authority-gross-domestic-product">MBIE website</a></h2>

<p>“These estimates are at a more detailed level of granularity than available in the Statistics New Zealand official Tier 1 regional GDP series.</p>

<p>“They are experimental in nature and should be used with caution. The data are modelled and produced by the Ministry of Business Innovation and Employment (MBIE) (not by Statistics New Zealand), according to the methods outlined in …</p>

<p>…</p>

<p>“These estimates are not a Tier 1 statistic and have been created by MBIE for research purposes. While various Statistics New Zealand collections form the source data, Statistics New Zealand will not be held accountable for any error, inaccurate findings or interpretation within the publication.</p>

<p>“One of the sources used for the modelling is a customised dataset created in a way that protects confidentiality, provided by Statistics New Zealand. Access to that data was provided to MBIE by Statistics New Zealand under conditions designed to give effect to the security and confidentiality provisions of the Statistics Act 1975.</p>

<p>“While all care and diligence has been used in processing, analysing, and extracting data and information for this publication, MBIE gives not warranty it is error free and will not be liable for any loss or damage suffered by the use directly, or indirectly, of the information.”</p>


		
	</div>
</div>

<div class="col-md-1"></div>
<div class="col-md-4">
	<div class="side-banner">
	


	<div>
	   
	    
			
			<p>&larr; Previous post</p>
			<p><a rel="prev" href="/blog/2016/08/28/dualaxes2">Dual axes time series plots with various more awkward data</a></p>
		
		
		
		
		 
			
			<p>Next post &rarr;</p>
			<p><a rel="next" href="/blog/2016/09/16/version-control">Why you need version control</a></p>
			
			
		
		
	</div>
	
	 

   <div class = "side-footer">
			
			<hr></hr>
			<p><gcse:search></gcse:search></p>
			<hr></hr>
        	<p>Follow <a href = "/feed.xml">this blog with RSS</a>.</p>
			<hr></hr>
			
       <div class="fb-like" data-href="https://www.facebook.com/peterstats/" data-layout="standard" data-action="like" data-show-faces="false" data-share="false"></div>
			
			<hr></hr>
			<p>I'm pleased to be aggregated at <a href="http://www.r-bloggers.com/">R-bloggers</a>, the one-stop shop for blog posts featuring R.</p>
			<hr></hr>

			
			<p>			
            <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><i>free range statistics</i></span> by <a href = "/about/index.html">Peter Ellis</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
			</p>

			<hr></hr>
			


    </div>



  
   




		  
		  



	   
	<div id="disqus_thread"></div>

		<script type="text/javascript">
			/* * * CONFIGURATION VARIABLES * * */
			var disqus_shortname = 'statsinthewild';
			
			/* * * DON'T EDIT BELOW THIS LINE * * */
			(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		</script>

		<script type="text/javascript">
			/* * * CONFIGURATION VARIABLES * * */
			var disqus_shortname = 'statsinthewild';
			
			/* * * DON'T EDIT BELOW THIS LINE * * */
			(function () {
				var s = document.createElement('script'); s.async = true;
				s.type = 'text/javascript';
				s.src = '//' + disqus_shortname + '.disqus.com/count.js';
				(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
			}());
		</script>

	<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
	</div>	
</div>    
   
   

			
			</div><!-- /.container -->
         
   <!-- Default Statcounter code for Free Range Statistics
http://Http://freerangestats.info -->
<script type="text/javascript">
var sc_project=11673245; 
var sc_invisible=1; 
var sc_security="5b7111a4"; 
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js" async></script>
<noscript><div class="statcounter"><a title="Web Analytics"
href="http://statcounter.com/" target="_blank"><img class="statcounter"
src="//c.statcounter.com/11673245/0/5b7111a4/1/" alt="Web
Analytics"></a></div></noscript>
<!-- End of Statcounter Code -->

</body>   
</html>