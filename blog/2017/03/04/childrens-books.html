      <!DOCTYPE html>
	<html lang="en">
		<head>
      <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
			<title>Visualising relationships between children's books</title>
      	
         
         
            <meta name ="description" content ="Statistical methods like hierarchical clustering and principal components analysis can help understand and visualise literary concepts but don't replace reading the books and engaging with them in traditional critical ways!">
            <meta property="og:description" content ="Statistical methods like hierarchical clustering and principal components analysis can help understand and visualise literary concepts but don't replace reading the books and engaging with them in traditional critical ways!">
         
         <meta property="og:site_name" content="free range statistics" />
         <meta property="og:title" content="Visualising relationships between children's books" />
         
            <meta property="og:image" content="http://ellisp.github.io/img/0083-dendro1.png" />
         
		 
			<meta property="og:url" content="http://freerangestats.info/blog/2017/03/04/childrens-books.html" />
		 
         <meta property="og:author" content= "https://www.facebook.com/peterstats" />
         <meta property="og:type" content="article" />
      

<link href='https://fonts.googleapis.com/css?family=Sarala' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Prosto+One' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet'>
	  
          <link href="/css/bootstrap.min.css" rel ="stylesheet" type="text/css">
          <link href="/css/bootstrap-theme.min.css" rel ="stylesheet" type="text/css">
            <link href="/css/custom.css" rel ="stylesheet" type="text/css">     
		<link href="/css/syntax.css" rel ="stylesheet" type="text/css">     			
                 
            
   <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

     ga('create', 'UA-65886313-1', 'auto');
     ga('send', 'pageview');

   </script>
   
   <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

   <style>
    ul li { margin-bottom: 9px; }
    ol li { margin-bottom: 9px; }
   </style>
   
   <link rel="alternate" type="application/rss+xml" title="free range statistics by Peter Ellis"
      href="/feed.xml">

	  

      
		</head>
      
  <body role = "document">
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>
        
		<div id="fb-root"></div>
		<script>(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.6";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));</script>
  
  <script>
  (function() {
    var cx = '015640467633673901770:pk3v2c95baw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>

  
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">free range statistics</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/about">about</a></li>
            <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">all posts <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="/blog">ordered by date</a></li>
				  <li><a href="/blog/most-popular.html">ordered by popularity</a></li>
                  <li><a href="/blog/index_by_tag.html">grouped by subject matter</a></li>
                  <li><a href="/blog/nz.html">all posts with data about new zealand</a></li>
				  <li><a href="/blog/voting.html">all posts on voting behaviour</a></li>
				  <li><a href = /blog/2020/02/23/bmi>most recent post</a></li>
				</ul>
            </li>
              <li><a href="/blog/showcase.html">showcase</a></li>
              <li><a href="/presentations/index.html">presentations</a></li>
			  <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">election forecasts<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href = "/elections/oz/index.html">Australia federal 2019</a></li>
				  <li><a href = "/elections/combined.html">NZ 2016</a></li>
                  <li><a href="/blog/voting.html">all posts on voting behaviour</a></li>
                </ul>				
			  </li>
			  
			  
			  
		    </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
  
  
      
			<div class="container">
			
			<div class="jumbotron">
  <div class="container">
	<center><h1>Visualising relationships between children's books</h1></center>
  </div>
</div>



	<div class = "post-summary">
	<h2>At a glance:</h2>
	   <p>Statistical methods like hierarchical clustering and principal components analysis can help understand and visualise literary concepts but don't replace reading the books and engaging with them in traditional critical ways!</p>
	   <p class="meta">04 Mar 2017</p>
	   <hr></hr>
	</div>


<div class="col-md-7">

	<div class="post">
		
	  <p>At the <a href="http://iase-web.org/documents/anzcots/OZCOTS_2016_Proceedings.pdf">OZCOTS (Australian Conference on Teaching Statistics) in late 2016</a> George Cobb gave a great talk entitled “Ask not what data science can do for the Humanities. Ask rather, what the Humanities can do for data science.”</p>

<blockquote>
  <p>“George Cobb of Mt Holyoke College gave this keynote address to open the Australian Conference on Teaching Statistics. His approach was literary, throughtful, and totally out of left field. He had a paper handout! He exhorted us to read Dickens’ <em>Bleak House</em>!”</p>
</blockquote>

<p>From <a href="https://aliceinstatisticsland.wordpress.com/2016/12/16/ask-not-what-data-science-can-do-for-the-humanities-ask-rather-what-the-humanities-can-do-for-data-science/">ALICEINSTATISTICSLAND</a></p>

<p>One of my takeouts from that talk was that for all our modern whizz-bang tools, applied statistics is a long way from being able to analyse much of the power of literature; this doesn’t mean we shouldn’t apply statistical techniques to text, but we should do it humbly, always thinking of context, and with an eye to improving statistical understanding (which is still taking baby steps in this space) rather than an arrogant view that it is easy to add insight to traditional critical methods.</p>

<p>I found myself thinking along similar lines recently when trying to articulate common elements in literature I’d read as a child and that still stuck with me.  For example, the theme of four related, self-reliant children in exciting circumstances is common to Arthur Ransome’s <em>Swallows and Amazons</em>, Enid Blyton’s <em>Famous Five</em> and C. S. Lewis’ <em>The Lion, the Witch and the Wardrobe</em>, while all of these books seem to me to be influenced by works of Edith Nesbit like <em>Five Children and It</em>.  But danger and fighting bad people differentiate the Famous Five and the children in Narnia from the Swallows and Amazons’ playful exploration of nature in the Lake District, and the exploratory tone of <em>Five Children and It</em>.  And Nesbit and Lewis’ children are in a magical world whereas the other two are in more mundane reality (relatively speaking - they still seem to get plenty of excitement).</p>

<p>At one point I was thinking of using statistics to try to understand the books better, then I realised it was as much a chance to understand statistics better by applying them to well known books.  I frequently come across a problem of looking for pattern in high dimensional data and being unsure how successful methods like cluster analysis or principal components analysis have been.  Perhaps by applying those methods to books where I felt I had an intuitive feel of the structure I might learn something about the analytical methods?  Well maybe.  If nothing else, it’s an excuse for drawing some charts.</p>

<h2 id="defining-and-documenting-ones-own-subjective-views">Defining and documenting one’s own subjective views</h2>
<p>To create a dataset for this, I constructed a set of thematic elements in which I was interested such as (incomplete list):</p>

<ul>
  <li>Boarding school</li>
  <li>Fantasy or magic</li>
  <li>Summer holidays</li>
  <li>Hidden alternative world</li>
  <li>Meant to be funny</li>
</ul>

<p>I classified a bunch of my favourite children’s books (defined loosely and inarticulately) against whether they included each element.  This rating process felt a bit unreliable, not least because generally I was operating on relatively distant memory.  The choice of books was necessarily arbitrary and is basically those I enjoyed at a particular age (too old for <em>The Very Hungry Caterpillar</em>, too young for <em>War and Peace</em>), or in a few cases discovered recently and think I would have enjoyed if I’d known about them.  They very much reflect my particular history and background culture, which is clearly to be expected.</p>

<p>You can see the full set of 23 thematic elements, 46 books, and the 1/0 assessments in this <a href="http://ellisp.github.io/data/childrens-books.xlsx">Excel workbook</a>.</p>

<p>The whole process, particularly the choice of thematic elements to highlight, is clearly arbitrary and subjective, but in a sense that is the whole point. In this exercise, I’m seeking to define and articulate a bunch of things of interest <em>to me</em> about books that <em>I find interesting</em>, with the intent of applying statistical exploratory techniques and seeing if they identify patterns that <em>ring true to me</em>.  In doing this I’m hoping to get a visualisation of the patterns as I see them, and learn something about data exploration while I’m at it.  It’s not about recovering some objective structure but about articulating my own subjective views.</p>

<h2 id="cluster-analysis">Cluster analysis</h2>

<p>One method I tried was the “DIvisive ANAlysis clustering” algorithm, or “DIANA”.  This works by dividing the observations (in this case, books) repeatedly into smaller and smaller groups, based on their similarity as recorded in my judgements against the thematic elements.  It has the advantage of coming with an intuitive (to me) display method in the form of a tree or <a href="https://en.wikipedia.org/wiki/Dendrogram">dendrogram</a>.  <code class="highlighter-rouge">diana</code> is implemented in the standard <code class="highlighter-rouge">cluster</code> R package, and plot polish can be added with the <code class="highlighter-rouge">dendextend</code> package.</p>

<p><img src="/img/0083-dendro1.svg" width="100%" /></p>

<p>Some of the clustering interpretation is straightforward and does indeed match my intuitions:</p>

<ul>
  <li>At the top of the diagram we see a set of “siblings / cousins exploring stuff” - <em>Swallows and Amazons</em>, <em>Famous Five</em> and friends.</li>
  <li>Below that we see a set of relatively serious and at times violent books - most of the four categories into which I divided Biggles’ adventures; <em>The Hobbit</em>; and <em>The Black Cauldron</em>.  Asterix, Tintin and the Hunt Brothers’ exploits in <em>Amazon Adventure</em> and sequels are offshoots of this branch.</li>
  <li>The bottom cluster - from <em>The Cat in the Hat</em> and friends to Edward Lear’s <em>A Book of Nonsense</em> is obviously the humorous group.</li>
  <li><em>The Little Prince</em>, <em>Charlotte’s Web</em>, <em>The Secret Garden</em> and <em>Ann of Green Gables</em> form another relatively serious chunk, with a focus on relationships, responsibilities and friendship.</li>
</ul>

<p>And so on.</p>

<p>I was a little surprised that there wasn’t a tighter “boarding school” cluster: P. G. Wodehouse’s <em>Tales of St Austin’s</em> (in which I mentally included all his boarding school stories), Rowling’s <em>Harry Potter</em>, are distant from <em>Tom Brown’s Schooldays</em>, <em>Molesworth</em> and Blyton’s <em>Malory Towers</em> and <em>Naughtiest girl in the school</em> with a wide variety of other elements (such as humour, magic, earnest muscular Christianity, progressivism - listed in no particular order!), apparently largely orthogonal to the boarding school setting.</p>

<p>The “hidden, secret world” dimension is another that didn’t seem to feature prominently in the clustering, with books as diverse as <em>Alice in Wonderland</em>, <em>Narnia</em> and <em>The Enchanted Wood</em> including this idea but not grouping together.</p>

<p>Here are some alternative visualisations of the same DIANA clustering; two variants on the sort of trees more usually used for phylogenetics, courtesy of the <code class="highlighter-rouge">ape</code> package.  First an “unrooted” version:</p>

<p><img src="/img/0083-dendro2.svg" width="100%" /></p>

<p>And second a “fan” version:</p>

<p><img src="/img/0083-dendro3.svg" width="100%" /></p>

<p>Generally, I think I prefer the very first dendrogram, which used the “triangle” method to draw the edges.</p>

<h2 id="principal-components">Principal components</h2>

<p>A second visualisation method I tried was a biplot of the first two principal components.  These plots aim to show the contribution of variables to the two aritificial dimensions that summarise the most variance possible, and allow a reasonably intuitive connection between units of observation (in this case books) and the contributing factors.  Here’s the result in our case:</p>

<p><img src="/img/0083-pc.svg" width="100%" /></p>

<p>I have a soft spot for these sorts of charts, as a valiant effort to reduce high dimensional data to the flat page.  If the first two principal components explain a good chunk of the variance in the data they can be very powerful.  But in this case only 25 percent of the variance is explained by the first two components, so we get a very incomplete picture; seen in the way that the clusterings visible in the dendrogram are not obvious in this chart.  The graphic is an interesting one and reveals a number of the patterns I’d expected (<em>Secret Seven</em> and <em>Famous Five</em> very similar; strong “boarding school” dimension; “talking animals” and “fighting crime” pointing in different directions and essentially not appearing in the same books).  But it’s definitely less comprehensive.</p>

<h2 id="other">Other</h2>

<p>I experimented with some network graphs but they didn’t work well, or add any insight to the above methods.</p>

<p>Oh, if you haven’t encountered Edith Nesbit but are interested at all in this sort of thing, check out this <a href="http://www.nybooks.com/articles/1964/12/03/the-writing-of-e-nesbit/">great 1964 article in the New York Review of Books by Gore Vidal</a>.</p>

<h2 id="code">Code</h2>

<p>Here’s the R code that produces the above.  Pretty simple today.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">xlsx</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">cluster</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">ape</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dendextend</span><span class="p">)</span><span class="w"> 

</span><span class="n">download.file</span><span class="p">(</span><span class="s2">"http://ellisp.github.io/data/childrens-books.xlsx"</span><span class="p">,</span><span class="w"> 
              </span><span class="n">destfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"tmp.xlsx"</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"wb"</span><span class="p">)</span><span class="w">
</span><span class="n">books_orig</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.xlsx</span><span class="p">(</span><span class="s2">"tmp.xlsx"</span><span class="p">,</span><span class="w"> </span><span class="n">sheetIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> 
                        </span><span class="n">check.names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="n">unlink</span><span class="p">(</span><span class="s2">"tmp.xlsx"</span><span class="p">)</span><span class="w">

</span><span class="n">books_thin</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">books_orig</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
   </span><span class="n">gather</span><span class="p">(</span><span class="n">Trope</span><span class="p">,</span><span class="w"> </span><span class="n">Present</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">Author</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">Title</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
   </span><span class="n">filter</span><span class="p">(</span><span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">Present</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
   </span><span class="n">as_tibble</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
   </span><span class="n">mutate</span><span class="p">(</span><span class="n">Present</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">

</span><span class="n">books_wide</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">books_thin</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
   </span><span class="n">select</span><span class="p">(</span><span class="o">-</span><span class="n">Author</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
   </span><span class="n">spread</span><span class="p">(</span><span class="n">Trope</span><span class="p">,</span><span class="w"> </span><span class="n">Present</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">

</span><span class="n">books_mat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">books_wide</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
   </span><span class="n">select</span><span class="p">(</span><span class="o">-</span><span class="n">Title</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
   </span><span class="n">as.matrix</span><span class="p">()</span><span class="w">
</span><span class="n">rownames</span><span class="p">(</span><span class="n">books_mat</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">books_wide</span><span class="o">$</span><span class="n">Title</span><span class="w">


</span><span class="c1">#---------cluster analysis-------
</span><span class="n">books_d</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">daisy</span><span class="p">(</span><span class="n">books_mat</span><span class="p">)</span><span class="w">

</span><span class="n">cld</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.dendrogram</span><span class="p">(</span><span class="n">diana</span><span class="p">(</span><span class="n">books_d</span><span class="p">))</span><span class="w">

</span><span class="c1"># Three versions of the dendrogram:
</span><span class="w">
</span><span class="c1"># need to use hang.dendrogram to keep the hanging raggedness
</span><span class="n">par</span><span class="p">(</span><span class="n">mar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">7</span><span class="p">),</span><span class="w"> </span><span class="n">font.main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="n">par</span><span class="p">(</span><span class="n">bg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey99"</span><span class="p">)</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">hang.dendrogram</span><span class="p">(</span><span class="n">cld</span><span class="p">),</span><span class="w"> </span><span class="n">horiz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">yaxt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"n"</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"triangle"</span><span class="p">,</span><span class="w">
     </span><span class="n">xlim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">4.5</span><span class="p">,</span><span class="w"> </span><span class="m">-1</span><span class="p">),</span><span class="w"> 
     </span><span class="n">edgePar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"steelblue"</span><span class="p">),</span><span class="w">
     </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Selected childrens books or series, clustered by thematic elements"</span><span class="p">)</span><span class="w">

</span><span class="n">par</span><span class="p">(</span><span class="n">mar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">))</span><span class="w">
</span><span class="n">par</span><span class="p">(</span><span class="n">bg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey99"</span><span class="p">)</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">as.phylo</span><span class="p">(</span><span class="n">cld</span><span class="p">),</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"unrooted"</span><span class="p">,</span><span class="w"> </span><span class="n">cex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.6</span><span class="p">)</span><span class="w"> </span><span class="c1"># maybe
</span><span class="w">
</span><span class="n">par</span><span class="p">(</span><span class="n">bg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey99"</span><span class="p">)</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">as.phylo</span><span class="p">(</span><span class="n">cld</span><span class="p">),</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"fan"</span><span class="p">,</span><span class="w"> </span><span class="n">cex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.6</span><span class="p">)</span><span class="w"> </span><span class="c1"># maybe
</span><span class="w">
</span><span class="c1">#-----------principle components-------------
</span><span class="n">books_pc</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">prcomp</span><span class="p">(</span><span class="n">books_mat</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">par</span><span class="p">(</span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"myfont"</span><span class="p">)</span><span class="w">
</span><span class="n">par</span><span class="p">(</span><span class="n">bg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"grey99"</span><span class="p">)</span><span class="w">
</span><span class="n">biplot</span><span class="p">(</span><span class="n">books_pc</span><span class="p">,</span><span class="w"> </span><span class="n">choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"darkblue"</span><span class="p">,</span><span class="w">  </span><span class="s2">"grey75"</span><span class="p">),</span><span class="w"> </span><span class="n">pc.biplot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span></code></pre></figure>



		
	</div>
</div>

<div class="col-md-1"></div>
<div class="col-md-4">
	<div class="side-banner">
	


	<div>
	   
	    
			
			<p>&larr; Previous post</p>
			<p><a rel="prev" href="/blog/2017/02/26/appeal-circuits">Success rates of appeals to the Supreme Court by Circuit</a></p>
		
		
		
		
		 
			
			<p>Next post &rarr;</p>
			<p><a rel="next" href="/blog/2017/03/11/nzelect-0.3.0">New data and functions in nzelect 0.3.0 R package</a></p>
			
			
		
		
	</div>
	
	 

   <div class = "side-footer">
			
			<hr></hr>
			<p><gcse:search></gcse:search></p>
			<hr></hr>
        	<p>Follow <a href = "/feed.xml">this blog with RSS</a>.</p>
			<hr></hr>
			
       <div class="fb-like" data-href="https://www.facebook.com/peterstats/" data-layout="standard" data-action="like" data-show-faces="false" data-share="false"></div>
			
			<hr></hr>
			<p>I'm pleased to be aggregated at <a href="http://www.r-bloggers.com/">R-bloggers</a>, the one-stop shop for blog posts featuring R.</p>
			<hr></hr>

			
			<p>			
            <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><i>free range statistics</i></span> by <a href = "/about/index.html">Peter Ellis</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
			</p>

			<hr></hr>
			


    </div>



  
   




		  
		  



	   
	<div id="disqus_thread"></div>

		<script type="text/javascript">
			/* * * CONFIGURATION VARIABLES * * */
			var disqus_shortname = 'statsinthewild';
			
			/* * * DON'T EDIT BELOW THIS LINE * * */
			(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		</script>

		<script type="text/javascript">
			/* * * CONFIGURATION VARIABLES * * */
			var disqus_shortname = 'statsinthewild';
			
			/* * * DON'T EDIT BELOW THIS LINE * * */
			(function () {
				var s = document.createElement('script'); s.async = true;
				s.type = 'text/javascript';
				s.src = '//' + disqus_shortname + '.disqus.com/count.js';
				(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
			}());
		</script>

	<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
	</div>	
</div>    
   
   

			
			</div><!-- /.container -->
         
   <!-- Default Statcounter code for Free Range Statistics
http://Http://freerangestats.info -->
<script type="text/javascript">
var sc_project=11673245; 
var sc_invisible=1; 
var sc_security="5b7111a4"; 
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js" async></script>
<noscript><div class="statcounter"><a title="Web Analytics"
href="http://statcounter.com/" target="_blank"><img class="statcounter"
src="//c.statcounter.com/11673245/0/5b7111a4/1/" alt="Web
Analytics"></a></div></noscript>
<!-- End of Statcounter Code -->

</body>   
</html>